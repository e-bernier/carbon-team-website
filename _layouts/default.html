<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }}</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="{{ '/assets/style.css' | relative_url }}">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>

<body class="{% if page.title == 'Home' or page.title == 'News' %}has-secondary-nav{% endif %}">
    <header>
        <!-- Main navigation bar -->
        <nav class="main-nav">
            <div class="nav-left">
                <a href="{{ '/' | relative_url }}">HOME</a>
                <a href="{{ '/news' | relative_url }}">NEWS</a>
            </div>
            <div class="nav-right">
                <img src="{{ '/assets/images/logo.png' | relative_url }}" alt="Logo" class="nav-logo">
            </div>
        </nav>

        <!-- Secondary navigation bar for section links -->
        {% if page.title == "Home" or page.title == "News" %}
        <nav class="section-nav">
            <div class="menu-icon" id="menu-icon">
                <!-- Hamburger icon -->
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </div>
            <div class="menu-links" id="menu-links">
                {% if page.title == "Home" %}
                    <a href="#OUR GOAL">OUR GOAL</a>
                    <a href="#OUR TECHNOLOGY">OUR TECHNOLOGY</a>
                    <a href="#THE TEAM">THE TEAM</a>
                    <a href="#CONTACT US">CONTACT US</a>
                {% elsif page.title == "News" %}
                    <a href="#ARTICLES">ARTICLES</a>
                    <a href="#SEMESTER PROJECTS">SEMESTER PROJECTS</a>
                    <a href="#MEET OUR TEAMS">MEET OUR TEAMS</a>
                    <a href="#COMPETITIONS">COMPETITIONS</a>
                    <a href="#PROJECTS UPDATES">PROJECTS UPDATE</a>
                {% endif %}
            </div>
        </nav>
        {% endif %}
    </header>

    <main>
        {{ content }}
    </main>

    <footer>
        <p>Â© {{ site.time | date: "%Y" }} The Carbon Team</p>
        <p><a href="{{ '/assets/docs/status_CarbonTeam.pdf' | relative_url }}" target="_blank">Status</a></p>
    </footer>
</body>

</html>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const menuIcon = document.getElementById("menu-icon");
        const menuLinks = document.getElementById("menu-links");
        const menuItems = menuLinks.querySelectorAll("a"); // Select all links inside the menu

        // Ensure both elements exist before adding event listeners
        if (menuIcon && menuLinks) {
            // Toggle menu visibility when clicking the hamburger icon
            menuIcon.addEventListener("click", function (event) {
                event.stopPropagation(); // Prevent the click from propagating to the document
                menuLinks.classList.toggle("open");
            });

            // Close the menu when clicking anywhere outside of it
            document.addEventListener("click", function (event) {
                if (!menuLinks.contains(event.target) && !menuIcon.contains(event.target)) {
                    menuLinks.classList.remove("open");
                }
            });

            // Close the menu when clicking on a menu link
            menuItems.forEach(function (item) {
                item.addEventListener("click", function () {
                    menuLinks.classList.remove("open");
                });
            });
        }
    });
</script>